<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Osaka Restaurant Guide 2025 | Seed Planning</title>
  <meta name="description" content="A hand‑picked guide to Osaka restaurants for overseas guests and research teams. Short taxi or subway from central hubs." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    :root{--ink:#0b0f19;--accent:#f97316;--muted:#6b7280}
    body{font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:var(--ink)}
    .serif{font-family:'Playfair Display',serif}
    .glass{backdrop-filter:blur(10px);background:rgba(8,8,12,.45)}
    .tag{font-size:.7rem;border:1px solid rgba(255,255,255,.35);padding:.15rem .45rem;border-radius:9999px}
    .card{transition:transform .2s ease, box-shadow .2s ease}
    .card:hover{transform:translateY(-2px); box-shadow:0 10px 30px rgba(0,0,0,.15)}
    .fade{animation:fade .6s ease both}
    @keyframes fade{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}
    .hero::after{content:"";position:absolute;inset:0;background:radial-gradient(1200px 600px at 20% -10%, rgba(249,115,22,.35), transparent 60%),linear-gradient(0deg,rgba(5,8,10,.55),rgba(5,8,10,.55));}
    @media (min-width:1024px){.masonry{column-count:2;column-gap:1.25rem}.masonry>*{break-inside:avoid}}
    .no-results{display:none}
  </style>
</head>
<body class="bg-gray-50">
  <!-- HERO -->
  <header class="relative hero min-h-screen grid place-items-center text-white">
    <img src="https://yoshi-seed.github.io/tlg/dining/osaka/top.png" alt="Osaka night street" class="absolute inset-0 w-full h-full object-cover"/>
    <nav class="absolute top-0 left-0 right-0 p-4 lg:p-6 flex items-center justify-between z-10">
      <div class="flex items-center space-x-3">
        <img src="https://yoshi-seed.github.io/tlg/dining/osaka/top.png" alt="logo" class="w-8 h-8 rounded"/>
        <span class="font-extrabold tracking-tight">Seed Planning</span>
      </div>
      <div class="hidden md:flex items-center space-x-6 text-sm text-gray-200">
        <a href="#picks" class="hover:text-white">Top Picks</a>
        <a href="#map" class="hover:text-white">Map</a>
        <a href="#about" class="hover:text-white">About</a>
      </div>
    </nav>
    <div class="relative z-10 text-center px-6">
      <p class="inline-block mb-4 glass tag">Short taxi / subway from central Osaka</p>
      <h1 class="serif text-4xl md:text-6xl font-bold leading-tight">Osaka Restaurant Guide <span class="text-orange-400">2025</span></h1>
      <p class="mt-4 max-w-2xl mx-auto text-gray-200">Compact, decision‑friendly picks for overseas guests. Built from our fieldwork days and local favorites across Namba, Shinsaibashi, Umeda.</p>
      <div class="mt-8 flex flex-wrap justify-center gap-2 text-xs uppercase tracking-wide">
        <span class="tag glass">Sushi</span>
        <span class="tag glass">Soba</span>
        <span class="tag glass">Okonomiyaki</span>
        <span class="tag glass">Yakiniku</span>
        <span class="tag glass">Kushiage</span>
        <span class="tag glass">Izakaya</span>
        <span class="tag glass">Ramen</span>
      </div>
      <a href="#picks" class="mt-10 inline-flex items-center px-5 py-3 rounded-full bg-orange-500 hover:bg-orange-600 shadow-lg">Explore the picks</a>
    </div>
  </header>

  <!-- FILTERS -->
  <section id="picks" class="max-w-6xl mx-auto px-4 sm:px-6 -mt-20 relative z-10">
    <div class="bg-white rounded-2xl shadow-xl p-4 md:p-6">
      <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4">
        <h2 class="serif text-2xl md:text-3xl">Seed’s Top Picks — Osaka</h2>
        <div class="flex flex-wrap gap-2 text-sm">
          <button class="filter-btn tag" data-filter="all">All</button>
          <button class="filter-btn tag" data-filter="sushi">Sushi</button>
          <button class="filter-btn tag" data-filter="soba">Soba</button>
          <button class="filter-btn tag" data-filter="okonomiyaki">Okonomiyaki</button>
          <button class="filter-btn tag" data-filter="yakiniku">Yakiniku</button>
          <button class="filter-btn tag" data-filter="kushiage">Kushiage</button>
          <button class="filter-btn tag" data-filter="izakaya">Izakaya</button>
          <button class="filter-btn tag" data-filter="ramen">Ramen</button>
        </div>
      </div>
    </div>

    <!-- CARDS -->
    <div class="masonry mt-6">
      <!-- SUSHI: Sushi Amatsuka -->
      <article class="card fade bg-white rounded-2xl shadow p-5 mb-5 cursor-pointer" data-tags="sushi" data-map="Sushi Amatsuka, 〒530-0041 大阪府大阪市北区天神橋5丁目5-13">
        <img class="rounded-xl w-full object-cover" src="https://yoshi-seed.github.io/tlg/dining/osaka/sushi_amakatsu2.png" alt="Sushi Amatsuka"/>
        <div class="mt-4">
          <h3 class="serif text-2xl">Sushi Amatsuka <span class="text-sm text-gray-500 ml-1">鮨 天使</span></h3>
          <p class="text-sm text-gray-600">Edomae‑style sushi, crafted piece‑by‑piece at a beautiful hinoki counter.</p>
          <dl class="mt-3 text-sm grid gap-1">
            <div class="flex gap-2"><dt class="w-20 text-gray-500">Hours</dt><dd>11:00 – (L.O.) 21:30</dd></div>
            <div class="flex gap-2"><dt class="w-20 text-gray-500">Address</dt><dd>〒530-0041 大阪府大阪市北区天神橋5丁目5-13</dd></div>
          </dl>
          <div class="mt-4 flex flex-wrap gap-2 items-center">
            <a class="tag" href="https://sushi-amatsuka.com/" target="_blank" rel="noopener">Website</a>
            <a class="tag" href="https://maps.google.com/?q=大阪市北区天神橋5丁目5-13" target="_blank" rel="noopener">Google Maps</a>
            <span class="ml-auto text-xs text-gray-600">English menu available</span>
          </div>
        </div>
      </article>

      <!-- SOBA: Shuhari -->
      <article class="card fade bg-white rounded-2xl shadow p-5 mb-5 cursor-pointer" data-tags="soba" data-map="Shuhari, 〒540-0028 大阪府大阪市中央区常盤町1丁目3-20 安藤ビル1F">
        <img class="rounded-xl w-full object-cover" src="https://yoshi-seed.github.io/tlg/dining/osaka/Shuhari1.png" alt="Shuhari"/>
        <div class="mt-4">
          <h3 class="serif text-2xl">Shuhari <span class="text-sm text-gray-500 ml-1">守破離</span></h3>
          <p class="text-sm text-gray-600">House‑milled soba; popular Tenmori Soba with prawns & seasonal vegetable tempura.</p>
          <dl class="mt-3 text-sm grid gap-1">
            <div class="flex gap-2"><dt class="w-20 text-gray-500">Hours</dt><dd>11:30 – (L.O.) 14:30 / 17:30 – (L.O.) 21:00</dd></div>
            <div class="flex gap-2"><dt class="w-20 text-gray-500">Address</dt><dd>〒540-0028 大阪府大阪市中央区常盤町1丁目3-20 安藤ビル1F</dd></div>
          </dl>
          <div class="mt-4 flex flex-wrap gap-2 items-center">
            <a class="tag" href="https://shuhari.site/food-drink?lng=en" target="_blank" rel="noopener">Website/Menu</a>
            <a class="tag" href="https://maps.google.com/?q=大阪市中央区常盤町1丁目3-20" target="_blank" rel="noopener">Google Maps</a>
            <span class="ml-auto text-xs text-gray-600">English menu online</span>
          </div>
        </div>
      </article>

      <!-- OKONOMIYAKI: Konamon-dokoro Mitsukuni -->
      <article class="card fade bg-white rounded-2xl shadow p-5 mb-5 cursor-pointer" data-tags="okonomiyaki" data-map="Konamon-dokoro Mitsukuni, 〒542-0075 大阪府大阪市中央区難波千日前3-18 中村ビル2F">
        <img class="rounded-xl w-full object-cover" src="https://yoshi-seed.github.io/tlg/dining/osaka/Kanamon.png" alt="Konamon-dokoro Mitsukuni"/>
        <div class="mt-4">
          <h3 class="serif text-2xl">Konamon‑dokoro Mitsukuni <span class="text-sm text-gray-500 ml-1">粉もん處 光圀</span></h3>
          <p class="text-sm text-gray-600">Sophisticated okonomiyaki & tonpei‑yaki; seafood‑rich <em>Osaka‑mix</em> and bold Cheese Tonpei‑yaki.</p>
          <dl class="mt-3 text-sm grid gap-1">
            <div class="flex gap-2"><dt class="w-20 text-gray-500">Hours</dt><dd>11:00 – (L.O.) 14:30 / 17:30 – (L.O.) 22:30</dd></div>
            <div class="flex gap-2"><dt class="w-20 text-gray-500">Address</dt><dd>〒542-0075 大阪府大阪市中央区難波千日前3-18 中村ビル2F</dd></div>
          </dl>
          <div class="mt-4 flex flex-wrap gap-2 items-center">
            <a class="tag" href="https://konamondokoro-mitsukuni.com/en/menu/" target="_blank" rel="noopener">Menu</a>
            <a class="tag" href="https://maps.google.com/?q=大阪市中央区難波千日前3-18" target="_blank" rel="noopener">Google Maps</a>
            <span class="ml-auto text-xs text-gray-600">English menu online</span>
          </div>
        </div>
      </article>

      <!-- YAKINIKU: Tajimaya Shinsaibashi -->
      <article class="card fade bg-white rounded-2xl shadow p-5 mb-5 cursor-pointer" data-tags="yakiniku" data-map="Tajimaya Shinsaibashi, 〒542-0086 大阪府大阪市中央区西心斎橋1-3-3 オー・エム・ホテル日航ビルB2">
        <img class="rounded-xl w-full object-cover" src="https://yoshi-seed.github.io/tlg/dining/osaka/tajimaya.png" alt="Tajimaya Shinsaibashi"/>
        <div class="mt-4">
          <h3 class="serif text-2xl">Tajimaya Shinsaibashi <span class="text-sm text-gray-500 ml-1">但馬屋 心斎橋</span></h3>
          <p class="text-sm text-gray-600">Aged Kuroge Wagyu (30+ days). House specialties: Harami (skirt) & Nama Yukhoe.</p>
          <dl class="mt-3 text-sm grid gap-1">
            <div class="flex gap-2"><dt class="w-20 text-gray-500">Hours</dt><dd>11:00 – (L.O.) 14:00 / 17:00 – (L.O.) 22:00</dd></div>
            <div class="flex gap-2"><dt class="w-20 text-gray-500">Address</dt><dd>〒542-0086 大阪府大阪市中央区西心斎橋1-3-3 オー・エム・ホテル日航ビルB2</dd></div>
          </dl>
          <div class="mt-4 flex flex-wrap gap-2 items-center">
            <a class="tag" href="https://www.tajima-ya.co.jp/shop/shinsaibashi.html" target="_blank" rel="noopener">Website</a>
            <a class="tag" href="https://maps.google.com/?q=大阪市中央区西心斎橋1-3-3" target="_blank" rel="noopener">Google Maps</a>
            <span class="ml-auto text-xs text-gray-600">English menu available</span>
          </div>
        </div>
      </article>

      <!-- RAMEN: Ramen Uroko -->
      <article class="card fade bg-white rounded-2xl shadow p-5 mb-5 cursor-pointer" data-tags="ramen" data-map="Ramen Uroko, 〒556-0011 大阪府大阪市浪速区難波中2-7-24 ダイヤマンション1F">
        <img class="rounded-xl w-full object-cover" src="https://yoshi-seed.github.io/tlg/dining/osaka/uroko.png" alt="Ramen Uroko"/>
        <div class="mt-4">
          <h3 class="serif text-2xl">Ramen Uroko <span class="text-sm text-gray-500 ml-1">らーめん鱗</span></h3>
          <p class="text-sm text-gray-600">Light yet richly flavored broth with premium chicken & umami oil; once selected for Tabelog’s Top 100.</p>
          <dl class="mt-3 text-sm grid gap-1">
            <div class="flex gap-2"><dt class="w-20 text-gray-500">Hours</dt><dd>11:00 – (L.O.) 21:30</dd></div>
            <div class="flex gap-2"><dt class="w-20 text-gray-500">Address</dt><dd>〒556-0011 大阪府大阪市浪速区難波中2-7-24 ダイヤマンション1F</dd></div>
          </dl>
          <div class="mt-4 flex flex-wrap gap-2 items-center">
            <a class="tag" href="https://ramen-uroko.com/en/" target="_blank" rel="noopener">Website</a>
            <a class="tag" href="https://maps.google.com/?q=大阪市浪速区難波中2-7-24" target="_blank" rel="noopener">Google Maps</a>
            <span class="ml-auto text-xs text-gray-600">English menu available</span>
          </div>
        </div>
      </article>

      <!-- RAMEN: Ramen Kuon -->
      <article class="card fade bg-white rounded-2xl shadow p-5 mb-5 cursor-pointer" data-tags="ramen" data-map="Ramen Kuon, 〒541-0055 大阪府大阪市中央区船場中央1丁目4-3 船場センタービル3号館 地下2階">
        <img class="rounded-xl w-full object-cover" src="https://yoshi-seed.github.io/tlg/dining/osaka/kuon.png" alt="Ramen Kuon"/>
        <div class="mt-4">
          <h3 class="serif text-2xl">Ramen Kuon <span class="text-sm text-gray-500 ml-1">らーめん久遠</span></h3>
          <p class="text-sm text-gray-600">Michelin Bib Gourmand. Elegant wheat‑forward bowls—signature Shio Soba.</p>
          <dl class="mt-3 text-sm grid gap-1">
            <div class="flex gap-2"><dt class="w-20 text-gray-500">Hours</dt><dd>Mon–Fri 11:00 – 15:00 / Sat 11:00 – 14:30 (Closed Sun)</dd></div>
            <div class="flex gap-2"><dt class="w-20 text-gray-500">Address</dt><dd>〒541-0055 大阪府大阪市中央区船場中央1丁目4-3 船場センタービル3号館 地下2階</dd></div>
          </dl>
          <div class="mt-4 flex flex-wrap gap-2 items-center">
            <a class="tag" href="https://linktr.ee/ramen_kuon2020" target="_blank" rel="noopener">Website</a>
            <a class="tag" href="https://maps.google.com/?q=大阪市中央区船場中央1丁目4-3" target="_blank" rel="noopener">Google Maps</a>
            <span class="ml-auto text-xs text-gray-600">English menu available</span>
          </div>
        </div>
      </article>

      <!-- KUSHIAGE: Sousaku Kushi‑Age Enjiro -->
      <article class="card fade bg-white rounded-2xl shadow p-5 mb-5 cursor-pointer" data-tags="kushiage" data-map="Sousaku Kushi-Age Enjiro, 〒556-0003 大阪府大阪市浪速区恵美須西3丁目3-26 えびす横丁1-C">
        <img class="rounded-xl w-full object-cover" src="https://yoshi-seed.github.io/tlg/dining/osaka/kushiage2.png" alt="Sousaku Kushi-Age Enjiro"/>
        <div class="mt-4">
          <h3 class="serif text-2xl">Sousaku Kushi‑Age Enjiro <span class="text-sm text-gray-500 ml-1">創作串揚げ圓治郎</span></h3>
          <p class="text-sm text-gray-600">Inventive kushiage with a Chinese twist; watch skewers fried to order at the counter.</p>
          <dl class="mt-3 text-sm grid gap-1">
            <div class="flex gap-2"><dt class="w-20 text-gray-500">Hours</dt><dd>9:00 – (L.O.) 22:00 <span class="text-gray-500">(Closed Wed)</span></dd></div>
            <div class="flex gap-2"><dt class="w-20 text-gray-500">Address</dt><dd>〒556-0003 大阪府大阪市浪速区恵美須西3丁目3-26 えびす横丁1-C</dd></div>
          </dl>
          <div class="mt-4 flex flex-wrap gap-2 items-center">
            <a class="tag" href="https://enjiro-kushiage.com/english" target="_blank" rel="noopener">Website</a>
            <a class="tag" href="https://maps.google.com/?q=創作串揚げ 圓治郎" target="_blank" rel="noopener">Google Maps</a>
            <span class="ml-auto text-xs text-gray-600">English menu available</span>
          </div>
        </div>
      </article>

      <!-- KUSHIAGE: kushiage 010 -->
      <article class="card fade bg-white rounded-2xl shadow p-5 mb-5 cursor-pointer" data-tags="kushiage" data-map="kushiage 010, 〒530-0002 大阪府大阪市北区曾根崎新地1丁目1-41 ゴッズインビルディング谷安4F">
        <img class="rounded-xl w-full object-cover" src="https://yoshi-seed.github.io/tlg/dining/osaka/kushiage010-1-2.png" alt="kushiage 010"/>
        <div class="mt-4">
          <h3 class="serif text-2xl">kushiage 010 <span class="text-sm text-gray-500 ml-1">クシアゲ 010</span></h3>
          <p class="text-sm text-gray-600">Multiple Michelin Bib Gourmand listings; light, crisp kushiage with seasonal omakase course.</p>
          <dl class="mt-3 text-sm grid gap-1">
            <div class="flex gap-2"><dt class="w-20 text-gray-500">Hours</dt><dd>17:00 – 22:00 <span class="text-gray-500">(Closed Sun)</span></dd></div>
            <div class="flex gap-2"><dt class="w-20 text-gray-500">Address</dt><dd>〒530-0002 大阪府大阪市北区曾根崎新地1丁目1-41 ゴッズインビルディング谷安4F</dd></div>
          </dl>
          <div class="mt-4 flex flex-wrap gap-2 items-center">
            <a class="tag" href="https://kushiage010.com/en" target="_blank" rel="noopener">Website</a>
            <a class="tag" href="https://maps.google.com/?q=大阪市北区曾根崎新地1丁目1-41" target="_blank" rel="noopener">Google Maps</a>
          </div>
        </div>
      </article>

      <!-- IZAKAYA: Bincho Robata Daiyame -->
      <article class="card fade bg-white rounded-2xl shadow p-5 mb-5 cursor-pointer" data-tags="izakaya" data-map="Bincho Robata Daiyame, 〒530-0027 大阪府大阪市北区堂山町10-1 SKビル1F">
        <img class="rounded-xl w-full object-cover" src="https://yoshi-seed.github.io/tlg/dining/osaka/bincyo.png" alt="Bincho Robata Daiyame"/>
        <div class="mt-4">
          <h3 class="serif text-2xl">Bincho Robata Daiyame <span class="text-sm text-gray-500 ml-1">備長炉端 だいやめ</span></h3>
          <p class="text-sm text-gray-600">Robatayaki & genshiyaki over Tosa Binchotan—seafood, seasonal veg, select meats, deeply fragrant finish.</p>
          <dl class="mt-3 text-sm grid gap-1">
            <div class="flex gap-2"><dt class="w-20 text-gray-500">Hours</dt><dd>Mon–Fri 16:00 – (L.O.) 23:00 / Sat–Sun 12:00 – (L.O.) 23:00</dd></div>
            <div class="flex gap-2"><dt class="w-20 text-gray-500">Address</dt><dd>〒530-0027 大阪府大阪市北区堂山町10-1 SKビル1F</dd></div>
          </dl>
          <div class="mt-4 flex flex-wrap gap-2 items-center">
            <a class=\"tag\" href="https://daiyame-umeda.com/" target=\"_blank\" rel=\"noopener\">Website</a>
            <a class="tag" href="https://maps.google.com/?q=大阪市北区堂山町10-1%20SKビル1F" target="_blank" rel="noopener">Google Maps</a>
            <span class="ml-auto text-xs text-gray-600">English menu available</span>
          </div>
        </div>
      </article>

      <!-- IZAKAYA: The New World (sio) -->
      <article class="card fade bg-white rounded-2xl shadow p-5 mb-5 cursor-pointer" data-tags="izakaya" data-map="The New World, 心斎橋PARCO B2F, 〒542-0085 大阪府大阪市中央区心斎橋筋1丁目8-3">
        <img class="rounded-xl w-full object-cover" src="https://yoshi-seed.github.io/tlg/dining/osaka/new-world.png" alt="The New World (sio)"/>
        <div class="mt-4">
          <h3 class="serif text-2xl">The New World <span class="text-sm text-gray-500 ml-1">小料理居酒屋 ザ・ニューワールド</span></h3>
          <p class="text-sm text-gray-600">Michelin Bib Gourmand small‑plate izakaya from <em>sio</em>—artisanal dishes paired with curated sake.</p>
          <dl class="mt-3 text-sm grid gap-1">
            <div class="flex gap-2"><dt class="w-20 text-gray-500">Hours</dt><dd>Mon–Fri 12:00 – (L.O.) 14:00 / 17:00 – (L.O.) 22:00 · Sat–Sun 11:00 – (L.O.) 22:00</dd></div>
            <div class="flex gap-2"><dt class="w-20 text-gray-500">Address</dt><dd>心斎橋PARCO B2F, 〒542-0085 大阪府大阪市中央区心斎橋筋1丁目8-3</dd></div>
          </dl>
          <div class="mt-4 flex flex-wrap gap-2 items-center">
            <a class="tag" href="https://sio.tokyo/restaurants/the-new-world/" target="_blank" rel="noopener">Website</a>
            <a class="tag" href="https://maps.google.com/?q=心斎橋PARCO%20B2F%20大阪市中央区心斎橋筋1丁目8-3" target="_blank" rel="noopener">Google Maps</a>
            <span class="ml-auto text-xs text-gray-600">English menu available</span>
          </div>
        </div>
      </article>
    </div>

    <!-- No results message -->
    <div id="no-results" class="no-results mt-6">
      <div class="bg-white rounded-2xl shadow p-6 text-center text-gray-600">
        No results yet for this category.
      </div>
    </div>
  </section>

  <!-- MAP CALLOUT / ABOUT -->
  <section id="map" class="max-w-6xl mx-auto px-4 sm:px-6 mt-10">
    <div class="grid md:grid-cols-2 gap-6">
      <div class="bg-white rounded-2xl shadow p-6">
        <h3 class="serif text-2xl mb-2">Where these are</h3>
        <p class="text-sm text-gray-600 mb-4">Select a card to preview its location. Tap the Google Maps link for directions.</p>
        <iframe id="mapFrame" class="w-full h-72 rounded-xl" loading="lazy" referrerpolicy="no-referrer-when-downgrade" src=""></iframe>
        <div class="mt-3">
          <a id="openInMaps" href="#" target="_blank" rel="noopener" class="inline-flex items-center px-4 py-2 rounded-full bg-orange-500 hover:bg-orange-600 text-white text-sm">Open in Google Maps</a>
        </div>
      </div>
      <div id="about" class="bg-white rounded-2xl shadow p-6">
        <h3 class="serif text-2xl mb-2">Quick tips for guests</h3>
        <ul class="list-disc pl-5 text-sm text-gray-700 space-y-2">
          <li><strong>Reservations:</strong> Popular spots fill up. <em>Ask your Seed PM</em> and we’ll take care of it.</li>
          <li><strong>Dietary:</strong> Tell us in advance; many places can accommodate.</li>
          <li><strong>Payment:</strong> Cards widely accepted; some ramen/izakaya are cash‑preferred.</li>
          <li><strong>Tipping:</strong> Not required (service charge may be included).</li>
        </ul>
              </div>
    </div>
  </section>

  <footer class="max-w-6xl mx-auto px-4 sm:px-6 mt-10 mb-16 text-center text-gray-500">
    <div class="text-sm">Made for overseas guests — perfect after research days. © Seed Planning</div>
  </footer>

  <script>
    // --- Filter logic with empty state ---
    const btns = document.querySelectorAll('.filter-btn');
    const cards = Array.from(document.querySelectorAll('[data-tags]'));
    const empty = document.getElementById('no-results');

    function applyFilter(f){
      let shown = 0;
      btns.forEach(x=>x.classList.remove('bg-orange-500','text-white'));
      const activeBtn = Array.from(btns).find(b=>b.dataset.filter===f);
      if(activeBtn){ activeBtn.classList.add('bg-orange-500','text-white'); }
      cards.forEach(c=>{
        const tags=c.dataset.tags.split(' ');
        const visible = (f==='all'||tags.includes(f));
        c.style.display = visible ? '' : 'none';
        if(visible) shown++;
      });
      empty.style.display = shown===0 ? '' : 'none';
      if(shown>0){
        const firstVisible = cards.find(c=>c.style.display!=='none');
        if(firstVisible) setMap(firstVisible.dataset.map);
      }
    }

    // --- Live map embed ---
    const mapFrame = document.getElementById('mapFrame');
    const openInMaps = document.getElementById('openInMaps');
    let currentMapUrl = '';

    function setMap(query){
      if(!query) return;
      const base = 'https://www.google.com/maps';
      const q = encodeURIComponent(query);
      currentMapUrl = `${base}?q=${q}`;
      mapFrame.src = `${currentMapUrl}&output=embed`;
      openInMaps.href = currentMapUrl;
    }

    // Card click updates map, but let anchor clicks work normally
    cards.forEach(card=>{
      card.addEventListener('click', (e)=>{
        if(e.target.closest('a')) return; // don't hijack link clicks
        setMap(card.dataset.map);
        window.location.hash = 'map';
      });
    });

    // Init: show first card on load
    window.addEventListener('DOMContentLoaded',()=>{
      setMap(cards[0]?.dataset.map || 'Osaka Station');
      applyFilter('all');
    });

    // Bind filter buttons
    btns.forEach(b=>b.addEventListener('click',()=>applyFilter(b.dataset.filter)));
  </script>
</body>
</html>

